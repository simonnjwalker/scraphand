{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Scraphand",
  "scopeName": "source.scraphand",
  "patterns": [
    { "include": "#comments" },
    { "include": "#literalBlocks" },
    { "include": "#commands" }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.double-slash.scraphand",
          "begin": "//",
          "beginCaptures": { "0": { "name": "punctuation.definition.comment.scraphand" } },
          "end": "$\\n?"
        },
        {
          "name": "comment.block.scraphand",
          "begin": "/\\*",
          "beginCaptures": { "0": { "name": "punctuation.definition.comment.scraphand" } },
          "end": "\\*/",
          "endCaptures": { "0": { "name": "punctuation.definition.comment.scraphand" } }
        }
      ]
    },

    "literalBlocks": {
      "patterns": [
        {
          "name": "string.quoted.other.literalblock.scraphand",
          "begin": "\\{\\{\\{\\{",
          "end": "\\}\\}\\}\\}",
          "beginCaptures": { "0": { "name": "punctuation.definition.string.begin.scraphand" } },
          "endCaptures": { "0": { "name": "punctuation.definition.string.end.scraphand" } }
        },
        {
          "name": "string.quoted.other.literalblock.scraphand",
          "begin": "\\{\\{\\{",
          "end": "\\}\\}\\}",
          "beginCaptures": { "0": { "name": "punctuation.definition.string.begin.scraphand" } },
          "endCaptures": { "0": { "name": "punctuation.definition.string.end.scraphand" } }
        },
        {
          "name": "string.quoted.other.literalblock.scraphand",
          "begin": "\\{\\{",
          "end": "\\}\\}",
          "beginCaptures": { "0": { "name": "punctuation.definition.string.begin.scraphand" } },
          "endCaptures": { "0": { "name": "punctuation.definition.string.end.scraphand" } }
        }
      ]
    },

    "commands": {
      "patterns": [
        {
          "name": "meta.command.scraphand",
          "begin": "\\{",
          "end": "\\}",
          "beginCaptures": { "0": { "name": "punctuation.section.braces.begin.scraphand" } },
          "endCaptures": { "0": { "name": "punctuation.section.braces.end.scraphand" } },
          "patterns": [
            {
              "name": "entity.name.function.scraphand",
              "match": "(?<=\\{)\\s*[A-Za-z_][A-Za-z0-9_]*(?:\\.[A-Za-z_][A-Za-z0-9_]*)*"
            },
            {
              "name": "punctuation.separator.keyvalue.scraphand",
              "match": ":"
            },
            {
              "name": "punctuation.separator.list.scraphand",
              "match": ","
            }
          ]
        }
      ]
    }
  }
}
